worker_processes 2
working_directory "<%= @local_path %>" # available in 0.94.0+

# listen on both a Unix domain socket and a TCP port,
# we use a shorter backlog for quicker failover when busy
listen "<%= @unicorn_socket_path %>", :backlog => 64
listen "127.0.0.1:8080", :tcp_nopush => true

# nuke workers after 30 seconds instead of 60 seconds (the default)
timeout 30

# feel free to point this anywhere accessible on the filesystem
pid "<%= @unicorn_pid_file %>"

# By default, the Unicorn logger will write to stderr.
# Additionally, some applications/frameworks log to stderr or stdout,
# so prevent them from going to /dev/null when daemonized here:
stderr_path "<%= @unicorn_log_path %>/unicorn.stderr.log"
stdout_path "<%= @unicorn_log_path %>/unicorn.stdout.log"

#before_fork do |server, worker|
#end
#
#after_fork do |server, worker|
#end
